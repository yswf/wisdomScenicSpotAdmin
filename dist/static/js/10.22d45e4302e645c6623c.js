webpackJsonp([10],{"12H5":function(e,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i("3a+u"),n=i("DcYu"),t={name:"Register",data:function(){var e=function(e,o,i){Object(r.b)(o)?i():i(new Error("密码必须是数字+字母的组合，最少6位，最多20位"))};return{registerForm:{phoneNumber:"",code:"",password:"",confirmPassword:""},registerFormRules:{phoneNumber:[{required:!0,trigger:"blur",validator:function(e,o,i){Object(r.c)(o)?i():i(new Error("手机号格式不正确"))}}],password:[{required:!0,trigger:"blur",validator:e}],confirmPassword:[{required:!0,trigger:"blur",validator:e}]},loading:!1,redirect:void 0,word:"获取验证码",isOvertime:!1,time:60,checked:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{confirmPsw:function(){this.registerForm.password!==this.registerForm.confirmPassword&&(this.$message.closeAll(),this.$message.warning("两次密码输入不一致"))},sendMessage:function(){var e=this;if(this.isOvertime)return!1;var o={phone:this.registerForm.phoneNumber};return o.phone?Object(r.c)(o.phone)?(this.loading=!0,void this.$request.httpRequest({method:"post",url:this.API.SendSms,returnFullData:!0,noLoading:!0,hideErrorMsg:!0,params:o,success:function(o){console.log(o),e.loading=!1,e.$message.closeAll(),e.$message.success("验证码发送成功，请留意手机短信");var i=setInterval(function(){e.isOvertime=!0,e.word=e.time+"s后重新获取",e.time--,e.time<=0&&(e.isOvertime=!1,e.time=60,clearInterval(i),e.word="获取验证码")},1e3)},error:function(o){e.loading=!1;var i=o.hasOwnProperty("resultMessage")?o.resultMessage:"获取验证码失败";e.$message({message:i,type:"error",customClass:"errorloginwidth",duration:3e3})}})):(this.$message.closeAll(),void this.$message.error("手机号格式不正确")):(this.$message.closeAll(),void this.$message.error("请先输入手机号码"))},handleRegister:function(){var e=this;this.$refs.registerForm.validate(function(o){if(!o)return!1;e.loading=!0;var i={tel:e.registerForm.phoneNumber,password:e.registerForm.password};Object(n.k)(i,"post").then(function(o){"200"==o.code?(e.$message.success(o.msg),e.$router.push({path:"/home"})):e.$message.error(o.msg)}).catch(function(o){e.$message.error(res.msg)}),e.loading=!1})}}},s={render:function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",[i("div",{staticClass:"login-container"},[i("el-form",{ref:"registerForm",staticClass:"login-form",attrs:{model:e.registerForm,rules:e.registerFormRules,autocomplete:"off","label-position":"left"}},[i("div",{staticClass:"title"},[e._v("\n        智慧景区后台管理系统\n      ")]),e._v(" "),i("el-card",{staticClass:"login-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"login-tab"},[i("div",{staticClass:"tab-item"},[e._v("\n            注册\n          ")])]),e._v(" "),i("el-form-item",{staticClass:"login-input-item",attrs:{prop:"phoneNumber"}},[i("el-input",{attrs:{name:"phoneNumber",type:"text",placeholder:"请输入手机号"},model:{value:e.registerForm.phoneNumber,callback:function(o){e.$set(e.registerForm,"phoneNumber",o)},expression:"registerForm.phoneNumber"}})],1),e._v(" "),i("el-form-item",{staticClass:"login-input-item",attrs:{prop:"password"}},[i("el-input",{attrs:{"show-password":"",name:"password",placeholder:"设置登录密码(数字+字母，最少6位)"},model:{value:e.registerForm.password,callback:function(o){e.$set(e.registerForm,"password",o)},expression:"registerForm.password"}})],1),e._v(" "),i("el-form-item",{staticClass:"login-input-item",attrs:{prop:"confirmPassword"}},[i("el-input",{attrs:{name:"confirmPassword","show-password":"",placeholder:"再次输入登录密码"},on:{blur:e.confirmPsw},model:{value:e.registerForm.confirmPassword,callback:function(o){e.$set(e.registerForm,"confirmPassword",o)},expression:"registerForm.confirmPassword"}})],1),e._v(" "),i("div",{staticClass:"accept-agreement"},[i("el-checkbox",{model:{value:e.checked,callback:function(o){e.checked=o},expression:"checked"}},[e._v("\n            我已阅读并接受\n          ")]),e._v(" "),i("router-link",{staticClass:"agreement",attrs:{to:{name:"Agreement"},tag:"a",target:"_blank"}},[e._v("\n            《后台管理系统用户协议》\n          ")])],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-bottom":"0"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,disabled:!e.checked,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleRegister(o)}}},[e._v("\n            立 即 注 册\n          ")])],1),e._v(" "),i("div",{staticClass:"to-login"},[i("span",[e._v("已有账号？")]),e._v(" "),i("span",{staticClass:"btn",on:{click:function(o){return e.$router.push({name:"Login"})}}},[e._v("立即登录")])])],1)],1)],1)])},staticRenderFns:[]};var l=i("VU/8")(t,s,!1,function(e){i("zKCE")},null,null);o.default=l.exports},bRQE:function(e,o,i){(e.exports=i("FZ+f")(!1)).push([e.i,".login-container{position:fixed;height:100%;width:100%;background-color:#f5f5f5}.login-container .el-form-item{margin-bottom:15px}.login-container .login-card{border-radius:8px}.login-container .login-card .el-card__body{padding:25px}.login-container .login-form{position:absolute;left:0;right:0;width:400px;max-width:100%;padding:10px;margin:80px auto}.login-container .login-form .login-card .login-tab{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 5px 5px}.login-container .login-form .login-card .login-tab .tab-item{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;font-size:14px;cursor:pointer}.login-container .login-form .login-card .login-tab .tab-item:hover{color:#121d25!important}.login-container .login-form .login-card .login-input-item{border:1px solid rgba(0,0,0,.1);border-radius:5px;color:#454545;position:relative}.login-container .login-form .login-card .login-input-item .el-input{display:inline-block;width:100%;padding-left:15px;margin-bottom:0}.login-container .login-form .login-card .login-input-item .el-input input{background:transparent;border:0;-webkit-appearance:none;border-radius:0;color:#121d25;padding-left:0}.login-container .login-form .login-card .login-input-item .el-input input:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #fff inset!important;-webkit-text-fill-color:#121d25!important;color:#121d25!important;caret-color:#121d25!important}.login-container .login-form .login-card .login-input-item .el-input input::-moz-placeholder{color:#ccc}.login-container .login-form .login-card .login-input-item .el-input input::-webkit-input-placeholder{color:#ccc}.login-container .login-form .login-card .login-input-item .el-input input:-ms-input-placeholder{color:#ccc}.login-container .login-form .login-card .login-input-item .svg-container{position:absolute;top:0;left:0;padding:5px 15px;color:#121d25;vertical-align:middle;display:inline-block}.login-container .login-form .login-card .login-input-item .svg-container i{font-size:16px}.login-container .login-form .login-card .login-input-item .code{position:absolute;right:10px;top:2px;font-size:12px;color:#121d25;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.login-container .login-form .login-card .to-login{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;font-size:14px;margin-top:4px}.login-container .login-form .login-card .to-login .btn{cursor:pointer}.login-container .login-form .login-card .to-login .btn:hover{color:#409eff}.login-container .login-form .login-card .accept-agreement{margin-bottom:10px;font-size:12px}.login-container .login-form .login-card .accept-agreement .agreement{cursor:pointer}.login-container .login-form .login-card .accept-agreement .agreement:hover{color:#409eff}.login-container .login-form .login-card .psw{margin-bottom:0}.login-container .login-form .login-card .forget-psw{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;cursor:pointer;font-size:12px;margin-top:4px;margin-bottom:12px}.login-container .login-form .login-card .forget-psw:hover{color:#409eff}.login-container .tips{font-size:14px;color:#000;margin-bottom:10px}.login-container .tips span:first-of-type{margin-right:16px}.login-container .title{font-size:28px;color:#121d25;margin:0 auto 20px;text-align:center;letter-spacing:1px}.login-container .show-pwd{position:absolute;right:20px;top:7px;font-size:14px;color:#121d25;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.login-container .el-form-item__content{line-height:30px}",""])},zKCE:function(e,o,i){var r=i("bRQE");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("rjj0")("33be2fc2",r,!0,{})}});
//# sourceMappingURL=10.22d45e4302e645c6623c.js.map