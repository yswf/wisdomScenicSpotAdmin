webpackJsonp([8],{"/6oE":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("DcYu"),o={name:"editActivity",data:function(){return{dialogImageUrl:"",dialogVisible:!1,limit:1,title:"",desc:"",activityData:{title:"",desc:""}}},watch:{},mounted:function(){var t=this;void 0!=this.$route.query.title&&this.$nextTick(function(){t.title=t.$route.query.title,t.desc=t.$route.query.desc})},methods:{handleAvatarSuccess:function(t,e,i){console.log(t),this.dialogImageUrl=t.data.path},onSubmit:function(){var t=this;this.$refs.upload.submit(),this.activityData={title:this.title,desc:this.desc,image:this.dialogImageUrl},void 0!=this.$route.query.title?(this.activityData.id=this.$route.query.id,Object(a.o)(this.activityData,"post").then(function(e){t.$router.push({path:"/home/activityInfo"})}).catch(function(e){console.log(22),t.$message.success("获取失败")})):Object(a.a)(this.activityData,"post").then(function(e){t.$router.push({path:"/home/activityInfo"})}).catch(function(e){console.log(22),t.$message.success("获取失败")})},handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},exceed:function(){console.log("只能上传一个文件")}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editActivity"},[i("div",{staticClass:"scenicSpot-form"},[i("el-form",{ref:"form",attrs:{model:t.activityData,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"咨讯标题"}},[i("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"资讯图片"}},[i("el-upload",{ref:"upload",attrs:{action:"http://localhost:3000/upload",enctype:"multipart/form-data","list-type":"picture-card",limit:t.limit,"on-exceed":t.exceed,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.handleAvatarSuccess}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),i("el-form-item",{attrs:{label:"资讯内容"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]),t._v(" "),i("el-button",[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var s=i("VU/8")(o,l,!1,function(t){i("7kCj")},null,null);e.default=s.exports},"7kCj":function(t,e,i){var a=i("riE/");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("cc4a7d66",a,!0,{})},"riE/":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".scenicSpot-form{width:80%;margin:auto}",""])}});
//# sourceMappingURL=8.b1a33873e7b86454e96f.js.map