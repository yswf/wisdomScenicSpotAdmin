webpackJsonp([11],{Ikxe:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".scenicSpot-form{width:80%;margin:auto}",""])},SoUm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("DcYu"),i={name:"editScenicSpot",data:function(){return{dialogImageUrl:"",dialogVisible:!1,limit:1,title:"",startDate:"",endDate:"",desc:"",spotsData:{title:"",startDate:"",endDate:"",desc:"",image:""}}},watch:{},mounted:function(){var t=this;console.log(void 0!=this.$route.query.title),void 0!=this.$route.query.title&&this.$nextTick(function(){t.title=t.$route.query.title,t.startDate=t.$route.query.startDate,t.endDate=t.$route.query.endDate,t.desc=t.$route.query.desc,t.dialogImageUrl=t.$route.query.image,console.log(t.$route.query.image),console.log(t.dialogImageUrl)})},methods:{handleAvatarSuccess:function(t,e,a){console.log(t),this.dialogImageUrl=t.data.path},onSubmit:function(){var t=this;this.$refs.upload.submit(),this.spotsData={title:this.title,startDate:this.startDate,endDate:this.endDate,desc:this.desc,image:this.dialogImageUrl},void 0!=this.$route.query.title?(console.log(1),this.spotsData.id=this.$route.query.id,Object(o.p)(this.spotsData,"post").then(function(e){t.$router.push({path:"/home/scenicSpotIntro"})}).catch(function(e){console.log(22),t.$message.success("获取失败")})):(console.log(2),Object(o.l)(this.spotsData,"post").then(function(e){t.$router.push({path:"/home/scenicSpotIntro"})}).catch(function(e){console.log(22),t.$message.success("获取失败")}))},handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},exceed:function(){console.log("只能上传一个文件")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editScenicSpot"},[a("div",{staticClass:"scenicSpot-form"},[a("el-form",{ref:"form",attrs:{model:t.spotsData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"景点名字"}},[a("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"适游时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("——")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"景点图片"}},[a("el-upload",{ref:"upload",attrs:{action:"http://localhost:3000/upload","list-type":"picture-card",limit:t.limit,"on-exceed":t.exceed,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.handleAvatarSuccess}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"景点介绍"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(i,s,!1,function(t){a("bhFX")},null,null);e.default=l.exports},bhFX:function(t,e,a){var o=a("Ikxe");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("011f4c96",o,!0,{})}});
//# sourceMappingURL=11.6e3de9b41fcf095ac9da.js.map